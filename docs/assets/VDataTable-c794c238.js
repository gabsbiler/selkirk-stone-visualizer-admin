import{X as R,a3 as De,as as Be,a6 as Fe,a7 as _e,ax as Oe,at as $e,a0 as j,p as d,av as K,aE as Le,N as U,ah as B,k as L,z as ae,aF as se,az as W,aB as Y,Z as N,B as S,a9 as M,aG as le,a2 as ne,aH as Ee,aI as Me,a8 as Ne,aJ as Ae,F as J,C as He,M as z,H as oe,aK as Ke,L as de,aL as re,ab as ue,aM as me,Y as Re,aN as ge,aO as Ge,aP as Ue,O as ze,q as ce,au as je}from"./index-4ab622e1.js";import{c as Z}from"./VCheckboxBtn-d8c6d9ff.js";import{c as We,u as Ye,b as fe}from"./VTextField-6be7a4e5.js";import{f as Je}from"./forwardRefs-9d31fcaa.js";import{m as he,d as ye,V as Qe,a as ve}from"./VList-92d859c2.js";import{m as Xe}from"./transition-7882385f.js";import{a as Ze}from"./VDivider-b0e2abeb.js";import{V as qe}from"./VMenu-01ffa976.js";import{V as et}from"./VChip-ccf076a0.js";const tt=R()({name:"VTable",props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...De(),...Be(),...Fe(),..._e()},setup(e,l){let{slots:t}=l;const{themeClasses:a}=Oe(e),{densityClasses:n}=$e(e);return j(()=>d(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},a.value,n.value,e.class],style:e.style},{default:()=>{var i,u,o;return[(i=t.top)==null?void 0:i.call(t),t.default?d("div",{class:"v-table__wrapper",style:{height:K(e.height)}},[d("table",null,[t.default()])]):(u=t.wrapper)==null?void 0:u.call(t),(o=t.bottom)==null?void 0:o.call(t)]}})),{}}}),ie=Le({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,l)=>{let{slots:t,attrs:a}=l;const n=e.tag??"td";return d(n,U({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:K(e.height),width:K(e.width),left:K(e.fixedOffset||null)}},a),{default:()=>{var i;return[(i=t.default)==null?void 0:i.call(t)]}})}),at=B({headers:{type:Array,default:()=>[]}},"v-data-table-header"),be=Symbol.for("vuetify:data-table-headers");function lt(e,l){const t=L([]),a=L([]);ae(()=>e.headers,()=>{var p,k,P;const i=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],u=i.flatMap((b,g)=>b.map(m=>({column:m,row:g}))),o=i.length,r={title:"",sortable:!1},f={...r,width:48};if((p=l==null?void 0:l.groupBy)!=null&&p.value.length){const b=u.findIndex(g=>{let{column:m}=g;return m.key==="data-table-group"});b<0?u.unshift({column:{...r,key:"data-table-group",title:"Group",rowspan:o},row:0}):u.splice(b,1,{column:{...r,...u[b].column},row:u[b].row})}if((k=l==null?void 0:l.showSelect)!=null&&k.value){const b=u.findIndex(g=>{let{column:m}=g;return m.key==="data-table-select"});b<0?u.unshift({column:{...f,key:"data-table-select",rowspan:o},row:0}):u.splice(b,1,{column:{...f,...u[b].column},row:u[b].row})}if((P=l==null?void 0:l.showExpand)!=null&&P.value){const b=u.findIndex(g=>{let{column:m}=g;return m.key==="data-table-expand"});b<0?u.push({column:{...f,key:"data-table-expand",rowspan:o},row:0}):u.splice(b,1,{column:{...f,...u[b].column},row:u[b].row})}const s=se(o).map(()=>[]),c=se(o).fill(0);let v=0;u.forEach(b=>{let{column:g,row:m}=b;const T=g.key??`data-table-column-${v++}`;for(let C=m;C<=m+(g.rowspan??1)-1;C++)s[C].push({...g,key:T,fixedOffset:c[C],sortable:g.sortable??!!g.key}),c[C]+=g.width??0}),s.forEach(b=>{for(let g=b.length;g--;g>=0)if(b[g].fixed){b[g].lastFixed=!0;return}});const y=new Set;t.value=s.map(b=>{const g=[];for(const m of b)y.has(m.key)||(y.add(m.key),g.push(m));return g}),a.value=s.at(-1)??[]},{deep:!0,immediate:!0});const n={headers:t,columns:a};return W(be,n),n}function q(){const e=Y(be);if(!e)throw new Error("Missing headers!");return e}const nt=B({showSelect:Boolean,modelValue:{type:Array,default:()=>[]}},"v-data-table-select"),pe=Symbol.for("vuetify:data-table-selection");function ot(e,l){const t=N(e,"modelValue",e.modelValue,c=>new Set(c),c=>[...c.values()]);function a(c){return c.every(v=>t.value.has(v.value))}function n(c){return c.some(v=>t.value.has(v.value))}function i(c,v){const y=new Set(t.value);for(const p of c)v?y.add(p.value):y.delete(p.value);t.value=y}function u(c){i([c],!a([c]))}function o(c){i(l.value,c)}const r=S(()=>t.value.size>0),f=S(()=>a(l.value)),s={toggleSelect:u,select:i,selectAll:o,isSelected:a,isSomeSelected:n,someSelected:r,allSelected:f};return W(pe,s),s}function ee(){const e=Y(pe);if(!e)throw new Error("Missing selection!");return e}const rt=B({sortBy:{type:Array,default:()=>[]},multiSort:Boolean,mustSort:Boolean},"v-data-table-sort"),xe=Symbol.for("vuetify:data-table-sort");function ut(e){const l=N(e,"sortBy"),t=M(e,"mustSort"),a=M(e,"multiSort");return{sortBy:l,mustSort:t,multiSort:a}}function it(e){const{sortBy:l,mustSort:t,multiSort:a,page:n}=e,u={sortBy:l,toggleSort:o=>{let r=l.value.map(s=>({...s}))??[];const f=r.find(s=>s.key===o);f?f.order==="desc"?t.value?f.order="asc":r=r.filter(s=>s.key!==o):f.order="desc":a.value?r=[...r,{key:o,order:"asc"}]:r=[{key:o,order:"asc"}],l.value=r,n&&(n.value=1)}};return W(xe,u),u}function st(){const e=Y(xe);if(!e)throw new Error("Missing sort!");return e}function dt(e,l,t){const a=S(()=>t.value.reduce((i,u)=>(u.sort&&(i[u.key]=u.sort),i),{}));return{sortedItems:S(()=>l.value.length?ct(e.value,l.value,"en",a.value):e.value)}}function ct(e,l,t,a){const n=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return[...e].sort((i,u)=>{for(let o=0;o<l.length;o++){const r=l[o].key,f=l[o].order;if(f===!1)continue;let s=le(i.raw,r),c=le(u.raw,r);if(f==="desc"&&([s,c]=[c,s]),a!=null&&a[r]){const v=a[r](s,c);if(!v)continue;return v}if(!(s==null||c==null)){if(s instanceof Date&&c instanceof Date)return s.getTime()-c.getTime();if([s,c]=[s,c].map(v=>(v||"").toString().toLocaleLowerCase()),s!==c)return!isNaN(s)&&!isNaN(c)?Number(s)-Number(c):n.compare(s,c)}}return 0})}const ft=R()({name:"VDataTableHeaders",props:{color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:ne,default:"$sortAsc"},sortDescIcon:{type:ne,default:"$sortDesc"},...Ee()},setup(e,l){let{slots:t,emit:a}=l;const{toggleSort:n,sortBy:i}=st(),{someSelected:u,allSelected:o,selectAll:r}=ee(),{columns:f,headers:s}=q(),{loaderClasses:c}=Me(e),v=(g,m)=>!e.sticky&&!g.fixed?null:{position:"sticky",zIndex:g.fixed?4:e.sticky?3:void 0,left:g.fixed?K(g.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${m})`:void 0};function y(g){const m=i.value.find(T=>T.key===g);return m?m.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:p,backgroundColorStyles:k}=Ne(e,"color"),P=S(()=>({headers:s.value,columns:f.value,toggleSort:n,sortBy:i.value,someSelected:u.value,allSelected:o.value,selectAll:r,getSortIcon:y,getFixedStyles:v})),b=g=>{let{column:m,x:T,y:C}=g;const G=!!i.value.find(E=>E.key===m.key),F=m.key==="data-table-select"||m.key==="data-table-expand";return d(ie,{tag:"th",align:m.align,class:["v-data-table__th",{"v-data-table__th--sortable":m.sortable,"v-data-table__th--sorted":G},c.value],style:{width:K(m.width),minWidth:K(m.width),...v(m,C)},colspan:m.colspan,rowspan:m.rowspan,onClick:m.sortable?()=>n(m.key):void 0,lastFixed:m.lastFixed,noPadding:F},{default:()=>{var A;const E=`column.${m.key}`,_={column:m,selectAll:r};return t[E]?t[E](_):m.key==="data-table-select"?((A=t["column.data-table-select"])==null?void 0:A.call(t,_))??d(Z,{modelValue:o.value,indeterminate:u.value&&!o.value,"onUpdate:modelValue":r},null):d("div",{class:"v-data-table-header__content"},[d("span",null,[m.title]),m.sortable&&d(He,{key:"icon",class:"v-data-table-header__sort-icon",icon:y(m.key)},null),e.multiSort&&G&&d("div",{key:"badge",class:["v-data-table-header__sort-badge",...p.value],style:k.value},[i.value.findIndex(h=>h.key===m.key)+1])])}})};j(()=>d(J,null,[t.headers?t.headers(P.value):s.value.map((g,m)=>d("tr",null,[g.map((T,C)=>d(b,{column:T,x:C,y:m},null))])),e.loading&&d("tr",{class:"v-data-table__progress"},[d("th",{colspan:f.value.length},[d(Ae,{name:"v-data-table-headers",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:t.loader})])])]))}}),vt=B({groupBy:{type:Array,default:()=>[]}},"data-table-group"),ke=Symbol.for("vuetify:data-table-group");function mt(e){return{groupBy:N(e,"groupBy")}}function gt(e){const{groupBy:l,sortBy:t}=e,a=L(new Set),n=S(()=>l.value.map(f=>({...f,order:f.order??!1})).concat(t.value));function i(f){return a.value.has(f.id)}function u(f){const s=new Set(a.value);i(f)?s.delete(f.id):s.add(f.id),a.value=s}function o(f){function s(c){const v=[];for(const y of c.items)y.type==="item"?v.push(y):v.push(...s(y));return v}return s({type:"group-header",items:f,id:"dummy",key:"dummy",value:"dummy",depth:0})}const r={sortByWithGroups:n,toggleGroup:u,opened:a,groupBy:l,extractRows:o,isGroupOpen:i};return W(ke,r),r}function we(){const e=Y(ke);if(!e)throw new Error("Missing group!");return e}function ht(e,l){if(!e.length)return[];const t=new Map;for(const a of e){const n=le(a.raw,l);t.has(n)||t.set(n,[]),t.get(n).push(a)}return t}function Se(e,l){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=ht(e,l[0]),i=[],u=l.slice(1);return n.forEach((o,r)=>{const f=l[0],s=`${a}_${f}_${r}`;i.push({depth:t,id:s,key:f,value:r,items:u.length?Se(o,u,t+1,s):o,type:"group-header"})}),i}function Pe(e,l){const t=[];for(const a of e)a.type==="group-header"?(a.value!=null&&t.push(a),(l.has(a.id)||a.value==null)&&t.push(...Pe(a.items,l))):t.push(a);return t}function yt(e,l,t){return{flatItems:S(()=>{if(!l.value.length)return e.value;const n=Se(e.value,l.value.map(i=>i.key));return Pe(n,t.value)})}}const bt=R()({name:"VDataTableGroupHeaderRow",props:{item:{type:Object,required:!0}},setup(e,l){let{slots:t}=l;const{isGroupOpen:a,toggleGroup:n,extractRows:i}=we(),{isSelected:u,isSomeSelected:o,select:r}=ee(),{columns:f}=q(),s=S(()=>i([e.item]));return()=>d("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[f.value.map(c=>{var v,y;if(c.key==="data-table-group"){const p=a(e.item)?"$expand":"$next",k=()=>n(e.item);return((v=t["data-table-group"])==null?void 0:v.call(t,{item:e.item,count:s.value.length,props:{icon:p,onClick:k}}))??d(ie,{class:"v-data-table-group-header-row__column"},{default:()=>[d(z,{size:"small",variant:"text",icon:p,onClick:k},null),d("span",null,[e.item.value]),d("span",null,[oe("("),s.value.length,oe(")")])]})}if(c.key==="data-table-select"){const p=u(s.value),k=o(s.value)&&!p,P=b=>r(s.value,b);return((y=t["data-table-select"])==null?void 0:y.call(t,{props:{modelValue:p,indeterminate:k,"onUpdate:modelValue":P}}))??d("td",null,[d(Z,{modelValue:p,indeterminate:k,"onUpdate:modelValue":P},null)])}return d("td",null,null)})])}}),pt=B({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"v-data-table-expand"),Ce=Symbol.for("vuetify:datatable:expanded");function xt(e){const l=M(e,"expandOnClick"),t=N(e,"expanded",e.expanded,o=>new Set(o),o=>[...o.values()]);function a(o,r){const f=new Set(t.value);r?f.add(o.value):f.delete(o.value),t.value=f}function n(o){return t.value.has(o.value)}function i(o){a(o,!n(o))}const u={expand:a,expanded:t,expandOnClick:l,isExpanded:n,toggleExpand:i};return W(Ce,u),u}function Ve(){const e=Y(Ce);if(!e)throw new Error("foo");return e}const kt=Ke({name:"VDataTableRow",props:{index:Number,item:Object,onClick:Function},setup(e,l){let{slots:t}=l;const{isSelected:a,toggleSelect:n}=ee(),{isExpanded:i,toggleExpand:u}=Ve(),{columns:o}=q();j(()=>d("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&o.value.map((r,f)=>d(ie,{align:r.align,fixed:r.fixed,fixedOffset:r.fixedOffset,lastFixed:r.lastFixed,noPadding:r.key==="data-table-select"||r.key==="data-table-expand",width:r.width},{default:()=>{var y,p;const s=e.item,c=`item.${r.key}`,v={index:e.index,item:e.item,columns:o.value,isSelected:a,toggleSelect:n,isExpanded:i,toggleExpand:u};return t[c]?t[c](v):r.key==="data-table-select"?((y=t["item.data-table-select"])==null?void 0:y.call(t,v))??d(Z,{modelValue:a([s]),onClick:de(()=>n(s),["stop"])},null):r.key==="data-table-expand"?((p=t["item.data-table-expand"])==null?void 0:p.call(t,v))??d(z,{icon:i(s)?"$collapse":"$expand",size:"small",variant:"text",onClick:de(()=>u(s),["stop"])},null):re(s.columns,r.key)}}))]))}}),wt=R()({name:"VDataTableRows",props:{loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},setup(e,l){let{emit:t,slots:a}=l;const{columns:n}=q(),{expandOnClick:i,toggleExpand:u,isExpanded:o}=Ve(),{isSelected:r,toggleSelect:f}=ee(),{toggleGroup:s,isGroupOpen:c}=we(),{t:v}=ue();return j(()=>{var y;return e.loading&&a.loading?d("tr",{class:"v-data-table-rows-loading",key:"loading"},[d("td",{colspan:n.value.length},[a.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?d("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[d("td",{colspan:n.value.length},[((y=a["no-data"])==null?void 0:y.call(a))??v(e.noDataText)])]):d(J,null,[e.items.map((p,k)=>{var b;if(p.type==="group-header")return a["group-header"]?a["group-header"]({index:k,item:p,columns:n.value,isExpanded:o,toggleExpand:u,isSelected:r,toggleSelect:f,toggleGroup:s,isGroupOpen:c}):d(bt,{key:`group-header_${p.id}`,item:p},a);const P={index:k,item:p,columns:n.value,isExpanded:o,toggleExpand:u,isSelected:r,toggleSelect:f};return d(J,null,[a.item?a.item(P):d(kt,{key:`item_${p.value}`,onClick:i.value||e["onClick:row"]?g=>{var m;i.value&&u(p),(m=e["onClick:row"])==null||m.call(e,g,{item:p})}:void 0,index:k,item:p},a),o(p)&&((b=a["expanded-row"])==null?void 0:b.call(a,P))])})])}),{}}});const St=B({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:ne,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:me},...he({itemChildren:!1})},"v-select"),Pt=R()({name:"VSelect",props:{...St(),...Re(We({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Xe({transition:{component:Ze}})},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:a}=ue(),n=L(),i=L(),u=N(e,"menu"),o=S({get:()=>u.value,set:h=>{var x;u.value&&!h&&((x=i.value)!=null&&x.Î¨openChildren)||(u.value=h)}}),{items:r,transformIn:f,transformOut:s}=ye(e),c=N(e,"modelValue",[],h=>f(ge(h)),h=>{const x=s(h);return e.multiple?x:x[0]??null}),v=Ye(),y=S(()=>c.value.map(h=>r.value.find(x=>e.valueComparator(x.value,h.value))||h)),p=S(()=>y.value.map(h=>h.props.value)),k=L(!1);let P="",b;const g=S(()=>e.hideSelected?r.value.filter(h=>!y.value.some(x=>x===h)):r.value),m=L();function T(h){e.openOnClear&&(o.value=!0)}function C(){e.hideNoData&&!r.value.length||e.readonly||v!=null&&v.isReadonly.value||(o.value=!o.value)}function G(h){var w,$,H,I;if(e.readonly||v!=null&&v.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(h.key)&&h.preventDefault(),["Enter","ArrowDown"," "].includes(h.key)&&(o.value=!0),["Escape","Tab"].includes(h.key)&&(o.value=!1),h.key==="ArrowDown"?(w=m.value)==null||w.focus("next"):h.key==="ArrowUp"?($=m.value)==null||$.focus("prev"):h.key==="Home"?(H=m.value)==null||H.focus("first"):h.key==="End"&&((I=m.value)==null||I.focus("last"));const x=1e3;function O(V){const D=V.key.length===1,te=!V.ctrlKey&&!V.metaKey&&!V.altKey;return D&&te}if(e.multiple||!O(h))return;const Q=performance.now();Q-b>x&&(P=""),P+=h.key.toLowerCase(),b=Q;const X=r.value.find(V=>V.title.toLowerCase().startsWith(P));X!==void 0&&(c.value=[X])}function F(h){if(e.multiple){const x=p.value.findIndex(O=>e.valueComparator(O,h.value));if(x===-1)c.value=[...c.value,h];else{const O=[...c.value];O.splice(x,1),c.value=O}}else c.value=[h],o.value=!1}function E(h){var x;(x=m.value)!=null&&x.$el.contains(h.relatedTarget)||(o.value=!1)}function _(h){k.value=!0}function A(h){var x;h.relatedTarget==null&&((x=n.value)==null||x.focus())}return j(()=>{const h=!!(e.chips||t.chip),x=!!(!e.hideNoData||g.value.length||t.prepend||t.append||t["no-data"]),O=c.value.length>0,[Q]=fe.filterProps(e),X=O||!k.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return d(fe,U({ref:n},Q,{modelValue:c.value.map(w=>w.props.value).join(", "),"onUpdate:modelValue":w=>{w==null&&(c.value=[])},focused:k.value,"onUpdate:focused":w=>k.value=w,validationValue:c.externalValue,dirty:O,class:["v-select",{"v-select--active-menu":o.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":c.value.length},e.class],style:e.style,appendInnerIcon:e.menuIcon,readonly:!0,placeholder:X,"onClick:clear":T,"onMousedown:control":C,onBlur:E,onKeydown:G}),{...t,default:()=>d(J,null,[d(qe,U({ref:i,modelValue:o.value,"onUpdate:modelValue":w=>o.value=w,activator:"parent",contentClass:"v-select__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition},e.menuProps),{default:()=>[x&&d(Qe,{ref:m,selected:p.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:w=>w.preventDefault(),onFocusin:_,onFocusout:A},{default:()=>{var w,$,H;return[!g.value.length&&!e.hideNoData&&(((w=t["no-data"])==null?void 0:w.call(t))??d(ve,{title:a(e.noDataText)},null)),($=t["prepend-item"])==null?void 0:$.call(t),g.value.map((I,V)=>{var D;return t.item?(D=t.item)==null?void 0:D.call(t,{item:I,index:V,props:U(I.props,{onClick:()=>F(I)})}):d(ve,U({key:V},I.props,{onClick:()=>F(I)}),{prepend:te=>{let{isSelected:Te}=te;return e.multiple&&!e.hideSelected?d(Z,{modelValue:Te,ripple:!1,tabindex:"-1"},null):void 0}})}),(H=t["append-item"])==null?void 0:H.call(t)]}})]}),y.value.map((w,$)=>{var V;function H(D){D.stopPropagation(),D.preventDefault(),F(w)}const I={"onClick:close":H,modelValue:!0,"onUpdate:modelValue":void 0};return d("div",{key:w.value,class:"v-select__selection"},[h?t.chip?d(Ge,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:w.title}}},{default:()=>{var D;return[(D=t.chip)==null?void 0:D.call(t,{item:w,index:$,props:I})]}}):d(et,U({key:"chip",closable:e.closableChips,size:"small",text:w.title},I),null):((V=t.selection)==null?void 0:V.call(t,{item:w,index:$}))??d("span",{class:"v-select__selection-text"},[w.title,e.multiple&&$<y.value.length-1&&d("span",{class:"v-select__selection-comma"},[oe(",")])])])})])})}),Je({isFocused:k,menu:o,select:F},n)}}),Ct=B({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"v-data-table-paginate"),Ie=Symbol.for("vuetify:data-table-pagination");function Vt(e){const l=N(e,"page",void 0,a=>+(a??1)),t=N(e,"itemsPerPage",void 0,a=>+(a??10));return{page:l,itemsPerPage:t}}function It(e){const{page:l,itemsPerPage:t,itemsLength:a}=e,n=S(()=>t.value===-1?0:t.value*(l.value-1)),i=S(()=>t.value===-1?a.value:Math.min(a.value,n.value+t.value)),u=S(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));function o(f){t.value=f,l.value=1}const r={page:l,itemsPerPage:t,itemsLength:a,startIndex:n,stopIndex:i,pageCount:u,setItemsPerPage:o};return W(Ie,r),r}function Tt(){const e=Y(Ie);if(!e)throw new Error("Missing pagination!");return e}function Dt(e){const{items:l,startIndex:t,stopIndex:a,itemsPerPage:n}=e;return{paginatedItems:S(()=>n.value<=0?l.value:l.value.slice(t.value,a.value))}}const Bt=R()({name:"VDataTableFooter",props:{prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},setup(e,l){let{slots:t}=l;const{t:a}=ue(),{page:n,pageCount:i,startIndex:u,stopIndex:o,itemsLength:r,itemsPerPage:f,setItemsPerPage:s}=Tt(),c=S(()=>e.itemsPerPageOptions.map(v=>({...v,title:a(v.title)})));return()=>{var v;return d("div",{class:"v-data-table-footer"},[(v=t.prepend)==null?void 0:v.call(t),d("div",{class:"v-data-table-footer__items-per-page"},[d("span",null,[a(e.itemsPerPageText)]),d(Pt,{items:c.value,modelValue:f.value,"onUpdate:modelValue":y=>s(Number(y)),density:"compact",variant:"outlined","hide-details":!0},null)]),d("div",{class:"v-data-table-footer__info"},[d("div",null,[a(e.pageText,r.value?u.value+1:0,o.value,r.value)])]),d("div",{class:"v-data-table-footer__pagination"},[d(z,{icon:e.firstIcon,variant:"plain",onClick:()=>n.value=1,disabled:n.value===1,"aria-label":a(e.firstPageLabel)},null),d(z,{icon:e.prevIcon,variant:"plain",onClick:()=>n.value=Math.max(1,n.value-1),disabled:n.value===1,"aria-label":a(e.prevPageLabel)},null),e.showCurrentPage&&d("span",{key:"page",class:"v-data-table-footer__page"},[n.value]),d(z,{icon:e.nextIcon,variant:"plain",onClick:()=>n.value=Math.min(i.value,n.value+1),disabled:n.value===i.value,"aria-label":a(e.nextPageLabel)},null),d(z,{icon:e.lastIcon,variant:"plain",onClick:()=>n.value=i.value,disabled:n.value===i.value,"aria-label":a(e.lastPageLabel)},null)])])}}}),Ft=B({...he({itemValue:"id"})},"v-data-table-item");function _t(e,l,t){const a=l.split(".");for(;a.length>1;){const n=a.shift();e[n]==null&&(e[n]={}),typeof e[n]=="object"&&(e=e[n])}e[a[0]]=t}function Ot(e,l){const{items:t}=ye(e);return{items:S(()=>t.value.map(n=>({...n,type:"item",columns:l.value.reduce((i,u)=>(_t(i,u.key,re(n.raw,u.value??u.key)),i),{})})))}}function $t(e){let{page:l,itemsPerPage:t,sortBy:a,groupBy:n,search:i}=e;const u=Ue("VDataTable"),o=S(()=>({page:l.value,itemsPerPage:t.value,sortBy:a.value,groupBy:n.value,search:i.value}));ae(()=>i==null?void 0:i.value,()=>{l.value=1});let r=null;ae(o,()=>{me(r,o.value)||(u.emit("update:options",o.value),r=o.value)},{deep:!0,immediate:!0})}const Lt=(e,l,t)=>e==null||l==null?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),Et=B({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Mt(e,l,t){var o;const a=[],n=(t==null?void 0:t.default)??Lt,i=t!=null&&t.filterKeys?ge(t.filterKeys):!1,u=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let r=0;r<e.length;r++){const f=e[r],s={},c={};let v=-1;if(l&&!(t!=null&&t.noFilter)){if(typeof f=="object"){const k=i||Object.keys(f);for(const P of k){const b=re(f,P,f),g=(o=t==null?void 0:t.customKeyFilter)==null?void 0:o[P];if(v=g?g(b,l,f):n(b,l,f),v!==-1&&v!==!1)g?s[P]=v:c[P]=v;else if((t==null?void 0:t.filterMode)==="every")continue e}}else v=n(f,l,f),v!==-1&&v!==!1&&(c.title=v);const y=Object.keys(c).length,p=Object.keys(s).length;if(!y&&!p||(t==null?void 0:t.filterMode)==="union"&&p!==u&&!y||(t==null?void 0:t.filterMode)==="intersection"&&(p!==u||!y))continue}a.push({index:r,matches:{...c,...s}})}return a}function Nt(e,l,t,a){const n=S(()=>typeof(t==null?void 0:t.value)!="string"&&typeof(t==null?void 0:t.value)!="number"?"":String(t.value)),i=L([]),u=L(new Map);ze(()=>{i.value=[],u.value=new Map;const r=ce(l);Mt(r,n.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:ce(a==null?void 0:a.filterKeys)??e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}).forEach(s=>{let{index:c,matches:v}=s;const y=r[c];i.value.push(y),u.value.set(y.value,v)})});function o(r){return u.value.get(r.value)}return{filteredItems:i,filteredMatches:u,getMatches:o}}const At=B({...Ft(),...at(),hideNoData:Boolean,hover:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},height:[String,Number],width:[String,Number],fixedHeader:Boolean,fixedFooter:Boolean,"onClick:row":Function,search:String},"v-data-table"),Jt=R()({name:"VDataTable",props:{...At(),...pt(),...vt(),...nt(),...rt(),...Ct(),...Et()},emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,l){let{emit:t,slots:a}=l;const{groupBy:n}=mt(e),{sortBy:i,multiSort:u,mustSort:o}=ut(e),{page:r,itemsPerPage:f}=Vt(e),{columns:s}=lt(e,{groupBy:n,showSelect:M(e,"showSelect"),showExpand:M(e,"showExpand")}),{items:c}=Ot(e,s),v=S(()=>s.value.map(_=>"columns."+_.key)),y=M(e,"search"),{filteredItems:p}=Nt(e,c,y,{filterKeys:v});it({sortBy:i,multiSort:u,mustSort:o,page:r});const{sortByWithGroups:k,opened:P,extractRows:b}=gt({groupBy:n,sortBy:i}),{sortedItems:g}=dt(p,k,s),{flatItems:m}=yt(g,n,P),T=S(()=>m.value.length),{startIndex:C,stopIndex:G}=It({page:r,itemsPerPage:f,itemsLength:T}),{paginatedItems:F}=Dt({items:m,startIndex:C,stopIndex:G,itemsPerPage:f}),E=S(()=>b(F.value));return ot(e,E),xt(e),$t({page:r,itemsPerPage:f,sortBy:i,groupBy:n,search:y}),je({VDataTableRows:{hideNoData:M(e,"hideNoData"),noDataText:M(e,"noDataText")}}),j(()=>d(tt,{class:["v-data-table",{"v-data-table--show-select":e.showSelect}],fixedHeader:e.fixedHeader,fixedFooter:e.fixedFooter,height:e.height,hover:e.hover},{top:a.top,default:a.default??(()=>{var _,A,h,x;return d(J,null,[(_=a.colgroup)==null?void 0:_.call(a,{columns:s}),d("thead",null,[d(ft,{sticky:e.fixedHeader,multiSort:e.multiSort},a)]),(A=a.thead)==null?void 0:A.call(a),d("tbody",null,[a.body?a.body():d(wt,{items:F.value,"onClick:row":e["onClick:row"]},a)]),(h=a.tbody)==null?void 0:h.call(a),(x=a.tfoot)==null?void 0:x.call(a)])}),bottom:a.bottom??(()=>d(Bt,null,{prepend:a["footer.prepend"]}))})),{}}});export{Jt as V};
